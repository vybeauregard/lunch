!function($){$.gritter={},$.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},$.gritter.add=function(e){try{return t.add(e||{})}catch(i){var r="Gritter Error: "+i;"undefined"!=typeof console&&console.error?console.error(r,e):alert(r)}},$.gritter.remove=function(e,i){t.removeSpecific(e,i||{})},$.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<button type="button" class="gritter-close-nrl close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(e){if("string"==typeof e&&(e={text:e}),null===e.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var i=e.title,r=e.text,o=e.image||"",n=e.sticky||!1,s=e.class_name||$.gritter.options.class_name,a=$.gritter.options.position,_=e.time||"";this._verifyWrapper(),this._item_count++;var c=this._item_count,p=this._tpl_item;$(["before_open","after_open","before_close","after_close"]).each(function(i,r){t["_"+r+"_"+c]=$.isFunction(e[r])?e[r]:function(){}}),this._custom_timer=0,_&&(this._custom_timer=_);var l=""!=o?'<img src="'+o+'" class="gritter-image" />':"",u=""!=o?"gritter-with-image":"gritter-without-image";if(i=i?this._str_replace("[[title]]",i,this._tpl_title):"",p=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[i,r,this._tpl_close,l,this._item_count,u,s],p),this["_before_open_"+c]()===!1)return!1;$("#gritter-notice-wrapper").addClass(a).append(p);var f=$("#gritter-item-"+this._item_count);return f.fadeIn(this.fade_in_speed,function(){t["_after_open_"+c]($(this))}),n||this._setFadeTimer(f,c),$(f).bind("mouseenter mouseleave",function(e){"mouseenter"==e.type?n||t._restoreItemIfFading($(this),c):n||t._setFadeTimer($(this),c),t._hoverState($(this),e.type)}),$(f).find(".gritter-close-nrl").click(function(){return t.removeSpecific(c,{},null,!0),!1}),c},_countRemoveWrapper:function(t,e,i){e.remove(),this["_after_close_"+t](e,i),0==$(".gritter-item-wrapper").length&&$("#gritter-notice-wrapper").remove()},_fade:function(e,i,r,o){var r=r||{},n="undefined"!=typeof r.fade?r.fade:!0,s=r.speed||this.fade_out_speed,a=o;this["_before_close_"+i](e,a),o&&e.unbind("mouseenter mouseleave"),n?e.animate({opacity:0},s,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(i,e,a)})}):this._countRemoveWrapper(i,e)},_hoverState:function(t,e){"mouseenter"==e?(t.addClass("hover"),t.find(".gritter-close").show()):(t.removeClass("hover"),t.find(".gritter-close").hide())},removeSpecific:function(t,e,i,r){if(!i)var i=$("#gritter-item-"+t);this._fade(i,t,e||{},r)},_restoreItemIfFading:function(t,e){clearTimeout(this["_int_id_"+e]),t.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in $.gritter.options)this[opt]=$.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,i){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(e,i)},r)},stop:function(t){var e=$.isFunction(t.before_close)?t.before_close:function(){},i=$.isFunction(t.after_close)?t.after_close:function(){},r=$("#gritter-notice-wrapper");e(r),r.fadeOut(function(){$(this).remove(),i()})},_str_replace:function(t,e,i,r){var o=0,n=0,s="",a="",_=0,c=0,p=[].concat(t),l=[].concat(e),u=i,f=l instanceof Array,m=u instanceof Array;for(u=[].concat(u),r&&(this.window[r]=0),o=0,_=u.length;_>o;o++)if(""!==u[o])for(n=0,c=p.length;c>n;n++)s=u[o]+"",a=f?void 0!==l[n]?l[n]:"":l[0],u[o]=s.split(p[n]).join(a),r&&u[o]!==s&&(this.window[r]+=(s.length-u[o].length)/p[n].length);return m?u:u[0]},_verifyWrapper:function(){0==$("#gritter-notice-wrapper").length&&$("body").append(this._tpl_wrap)}}}(jQuery);